(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{9976:(e,s,n)=>{Promise.resolve().then(n.bind(n,1361))},1361:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>c});var a=n(5155),r=n(2115),t=n(747);function c(){let[e,s]=(0,r.useState)({isConnected:!1,envVars:{url:!1,key:!1}}),[n,c]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async function(){try{let e={url:!0,key:!0};if(!t.N){s({isConnected:!1,error:"Supabase client not initialized (development mode)",envVars:e});return}let{data:n,error:a}=await t.N.from("votes").select("count").limit(1);if(a)throw a;s({isConnected:!0,data:n,envVars:e})}catch(e){console.error("Supabase connection error:",e),s(s=>({...s,isConnected:!1,error:e instanceof Error?e.message:"Unknown error occurred"}))}finally{c(!1)}})()},[]),n)?(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Checking Supabase Connection..."}),(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]}):(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Supabase Connection Test"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Environment Variables"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:e.envVars.url?"text-green-500":"text-red-500",children:e.envVars.url?"✓":"✗"}),(0,a.jsx)("span",{className:"ml-2",children:"NEXT_PUBLIC_SUPABASE_URL"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:e.envVars.key?"text-green-500":"text-red-500",children:e.envVars.key?"✓":"✗"}),(0,a.jsx)("span",{className:"ml-2",children:"NEXT_PUBLIC_SUPABASE_ANON_KEY"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Connection Status"}),e.isConnected?(0,a.jsxs)("div",{className:"text-green-500",children:[(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"✓"}),"Connected to Supabase successfully"]}),e.data&&(0,a.jsx)("pre",{className:"mt-2 bg-gray-100 p-2 rounded text-sm",children:JSON.stringify(e.data,null,2)})]}):(0,a.jsxs)("div",{className:"text-red-500",children:[(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"✗"}),"Failed to connect to Supabase"]}),e.error&&(0,a.jsx)("pre",{className:"mt-2 bg-gray-100 p-2 rounded text-sm text-red-600",children:e.error})]})]})]})]})}},747:(e,s,n)=>{"use strict";n.d(s,{N:()=>c});var a=n(5974);let r="https://kuihgcfcpfllnrxtnovv.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1aWhnY2ZjcGZsbG5yeHRub3Z2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgyOTc3NDksImV4cCI6MjA1Mzg3Mzc0OX0.l7N7riqqdc7hFRyolzsrJ2Q2JzQhUUR-jlOdi4PYtz8",c=(()=>{if(!r||!t)throw Error("Missing environment variables: NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY must be defined");return(0,a.UU)(r,t,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"public"},global:{headers:{"x-client-info":"voting-system"}}})})()}},e=>{var s=s=>e(e.s=s);e.O(0,[736,441,517,358],()=>s(9976)),_N_E=e.O()}]);